macro expression:
    $expression,
    whitespace, '+',
    $expression,
-> '{}.__add__({})'.format;


macro statements:
    whitespace, 'var',
    $identifier,
    whitespace, '=',
    $expression,
    whitespace, ';',
    $statements,
-> func (name, value, next) {
    return '
        var {0};
        {0} = {1};
        {2}
    '.format(name, value, next);
};



var make_adder = func (k) {
    return func (x) {
        return k + x;
    };
};

print(make_adder(7)(3));
